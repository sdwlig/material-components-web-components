{"version":3,"file":"mwc-list-item.js","sourceRoot":"","sources":["src/mwc-list-item.ts"],"names":[],"mappings":"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","sourcesContent":["/**\n@license\nCopyright 2018 Google Inc. All Rights Reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\nimport {\n  customElement,\n  query,\n  html,\n  property,\n  observer\n} from \"@authentic/mwc-base/base-element.js\";\nimport { LitElement } from \"lit-element\";\nimport { ripple } from \"@authentic/mwc-ripple/ripple-directive\";\n\nimport { style } from \"./mwc-list-item-css.js\";\nimport { TemplateResult } from \"lit-html\";\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"mwc-list-item\": ListItem;\n  }\n}\n\n@customElement(\"mwc-list-item\" as any)\nexport class ListItem extends LitElement {\n  mdcRootPosition: any;\n\n  @property({ type: Boolean })\n  protected listIsExpanded = false\n\n  @query(\".mdc-list-item__modal-content\")\n  modalContent!: HTMLElement;\n\n  @query(\".mdc-list-item__wrapper\")\n  wrapper!: HTMLElement;\n\n  @query(\".mdc-list-item\")\n  mdcRoot!: HTMLElement;\n\n  @property({ type: Boolean })\n  expandable = false;\n\n  @property({ type: Boolean })\n  modal = false;\n\n  @property({ type: String })\n  value = \"\";\n\n  @property({ type: String })\n  label = \"\";\n\n  @property({ type: String })\n  icon = \"\";\n\n  @property({ type: Number })\n  tabindex = 0;\n\n  @property({ type: Boolean })\n  leading = 0;\n\n  @property({ type: Boolean })\n  @observer(function(this: ListItem, value: Boolean) {\n    this.setAttribute(\"aria-disabled\", String(value));\n  })\n  disabled = false;\n\n  get classList() {\n    return this.mdcRoot.classList;\n  }\n\n  get setAttribute() {\n    return this.mdcRoot ? this.mdcRoot.setAttribute : () => {};\n  }\n\n  static styles = style;\n\n  protected changeWrapperStyles(\n    wrapperWidth: string,\n    wrapperLeft: string\n  ): void {\n    this.wrapper.style.width = wrapperWidth;\n    this.wrapper.style.left = wrapperLeft;\n  }\n\n  protected closeListItem(e): void {\n    if (this.modal) {\n      this.wrapper.classList.remove(\"mdc-list-item__wrapper--modal\");\n      this.modalContent.style.transform = \"translateY(0)\";\n\n      setTimeout(() => {\n        this.wrapper.style.top = \"0\";\n        this.modalContent.style.top = \"0\";\n\n        this.mdcRoot.classList.remove(\"mdc-list-item--modal\");\n        this.changeWrapperStyles(\"100%\", \"0\");\n        this.lockScrollFor(\"html\", false);\n        this.lockScrollFor(\"body\", false);\n      }, 1200);\n    }\n\n    e.stopPropagation();\n  }\n\n  firstUpdated() {\n    this.mdcRootPosition = this.mdcRoot.getBoundingClientRect();\n  }\n\n  focus() {\n    this.mdcRoot.focus();\n  }\n\n  protected lockScrollFor(element: string, status: boolean): void {\n    const el: HTMLElement | null = document.querySelector(element);\n\n    if (el) {\n      el.style.height = status ? \"100%\" : \"auto\";\n      el.style.overflow = status ? \"hidden\" : \"auto\";\n    }\n  }\n\n  protected openModal(): void {\n    if (this.modal) {\n      this.lockScrollFor(\"html\", true);\n      this.lockScrollFor(\"body\", true);\n\n      setTimeout(() => {\n        this.mdcRoot.classList.add(\"mdc-list-item--modal\");\n        this.changeWrapperStyles(\n          `calc(100% + ${this.mdcRootPosition.left * 2}px)`,\n          `-${this.mdcRootPosition.left}px`\n        );\n        this.wrapper.classList.add(\"mdc-list-item__wrapper--modal\");\n        this.modalContent.style.top = `${this.mdcRootPosition.top}px`;\n        this.modalContent.style.transform = `translateY(-${\n          this.mdcRootPosition.top\n        }px)`;\n        this.wrapper.style.top = `-${this.mdcRootPosition.top}px`;\n      }, 170);\n    }\n  }\n\n  render() {\n    const { disabled, tabindex } = this;\n\n    return html`\n      <div\n        class=\"mdc-list-item \"\n        role=\"menuitem\"\n        @click=\"${this.openModal}\"\n        tabindex=\"${tabindex}\"\n        aria-disabled=\"${this.modal ? true : disabled}\"\n        .ripple=\"${!this.expandable ? ripple({ unbounded: false }) : false}\"\n      >\n        ${this.expandable\n          ? html`\n              <mwc-icon\n                class=\"mdc-list-item__btn-expand\"\n                @click=\"${this.toggleList}\"\n              >\n                ${this.listIsExpanded ? 'expand_less' : 'expand_more'}\n              </mwc-icon>\n            `\n          : null}\n        ${this._renderLeading()} ${this.label || \"\"}\n        <slot name=\"text\"></slot>\n        <span class=\"mdc-list-item__text\" @click=\"${this.toggleList}\">\n          <span class=\"mdc-list-item__primary-text\">\n            <slot name=\"primary-text\"></slot>\n          </span>\n          <span class=\"mdc-list-item__secondary-text\">\n            <slot name=\"secondary-text\"></slot>\n          </span>\n        </span>\n        <span class=\"mdc-list-item__meta\">\n          <slot name=\"meta\"></slot>\n        </span>\n\n        ${this.modal\n          ? html`\n              <div class=\"mdc-list-item__wrapper\">\n                <div class=\"mdc-list-item__modal-content\">\n                  <div>\n                    <span\n                      class=\"mdc-list-item__close\"\n                      @click=\"${this.closeListItem}\"\n                    ></span>\n                    <slot name=\"expanded\"></slot>\n                  </div>\n                </div>\n              </div>\n            `\n          : null}\n        ${this.expandable\n          ? html`\n              <div class=\"mdc-list-item__expanded-content\">\n                <div\n                  class=\"mdc-list-item__expanded-content-wrapper ${this.leading\n                    ? \"mdc-list-item__expanded-content-wrapper--aligned\"\n                    : \"\"}\"\n                >\n                  <slot name=\"expanded\"></slot>\n                </div>\n              </div>\n            `\n          : null}\n\n        <slot></slot>\n      </div>\n    `;\n  }\n\n  _renderLeading(): TemplateResult | string {\n    if (this.leading) {\n      return html`\n        <span class=\"mdc-list-item__graphic\">\n          <slot name=\"graphic\"></slot>\n        </span>\n      `;\n    }\n\n    if (this.icon) {\n      return html`\n        <span class=\"mdc-list-item__graphic material-icons\">\n          ${this.icon}\n        </span>\n      `;\n    }\n\n    return \"\";\n  }\n\n  protected toggleList() {\n    if (this.expandable) {\n      this.listIsExpanded = !this.listIsExpanded;\n      this.mdcRoot.classList.toggle(\"mdc-list-item--expanded\");\n    }\n  }\n}\n"]}
